# Feature: Developer Tools

## Description

The Developer Tools feature would be an addition user interface used primarily
be developers to help debug issues in Ardour.

Some similar tools are available as standalone software but are also frequently
built in to an application.

- EA TurboTuner
- Mozilla Developer Tools
- Chrome Developer Tools
- Gtk Inspector

## Requirements

- View class allocations, instance counts, source location, timing and thread
	info and traces.

- View the state of all class properties and record state changes

- Support Syncronous and Asyncronous logging.

- Low overhead, for instance the ability to turn on logging at a class or per
	logging stream level.

- Log to file mode where the log sink is logged to a file in another thread.

- Load a log file from disk and display in log viewer.

- Set active loggers at application startup via command line

- Set active loggers at application startup via dialog

- Able to load/save enabled loggers from/to a config file.

- Save last logging profile(enabled loggers) to config file and reload

- Save/Load logging profiles by name

- Filter timing data from log message data

- Logging should be RT safe.

- Show timing statistics for function calls, min/max/avg/etc

- Display timing events in log graph style view, for instance frame rate/dsp
	process time

- Display a function call stack over time, list files and source.  

- Useful analysis of audio/midi threads and processing threads/plugins

- Useful analysis of butler thread/diskstream etc

- Useful analysis of GUI Timing/redraw/wave image cache etc

- Start and Stop recording of log records

- Record log for a time period. i.e Record log output for X seconds

## Tasks

- Log to Disk

- Log UI

## Time Estimate 

## Implementation Details

A logging stream per class and to be able to filter messages for a
particular instance or instances.

Function timing should be done RAII style `A_LOG_TIME_SCOPE(PBD::Loggers::Init)` to
ensure termination of timing events

`A_LOG_FUNC_PARAM`
`A_LOG_CLASS_VAR`

For timed events that record a log message at event start and event end, the
cpu id may change. How will that impact display of events in UI

`A_ASSERT_THREAD` macro that can be used to assert that a function is executed
in a certain thread context

## Logger Control Widget

DONE - Enable or disable loggers

- Filter loggers by name

## Log Record List Widget

Filter Records by cpu, thread, path/directory/file, function or file line range.

Selecting Records in the list can update the timeline view to show only records 

## Log Timeline Widget

When selecting a time range in the timeline view the entries in the log window
should be filtered or perhaps just selected.

## Class List

Contains list/treeview of classes with instance count, copy count. 

## Class Timeline View

## Class Instance List 

## Class Instance View

View all the properties of a single class instance. Values should change as the
timeline cursor is moved to them at a particular point in time.

All the Log messages/calls made by the class

## A General Log view

The current logging system is not class based but domain/category based, It
could be argued that this is necessary as the classes are too big and contain
too much functionality but still, something that may be necessary to keep.

## A File view

The file view could show which files are being accessed 


## Misc

Use unique line tokens generated by compiler for use as unique id's for timing
etc in `LOG_SCOPE_TIME`?

